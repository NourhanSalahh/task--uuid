{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from './assets/logo.png';\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"img\", {\n  alt: \"Vue logo\",\n  src: _imports_0\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"form-group mt-3\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"desiredLocationInput\"\n}, \"Enter Desired Location:\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"currentLocationInput\"\n}, \"Search Current Location:\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HelloWorld = _resolveComponent(\"HelloWorld\");\n  const _component_GMapMarker = _resolveComponent(\"GMapMarker\");\n  const _component_GmapPlaceInput = _resolveComponent(\"GmapPlaceInput\");\n  const _component_GMapMap = _resolveComponent(\"GMapMap\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createVNode(_component_HelloWorld, {\n    msg: \"Welcome to Your Delivery App\"\n  }), _createVNode(_component_GMapMap, {\n    center: $setup.center,\n    zoom: $setup.zoomLevel,\n    \"map-type-id\": \"terrain\",\n    style: {\n      \"width\": \"100vw\",\n      \"height\": \"20rem\",\n      \"margin-top\": \"10px\",\n      \"margin-bottom\": \"10px\",\n      \"margin-left\": \"10px\",\n      \"margin-right\": \"10px\"\n    },\n    options: {\n      zoomControl: true,\n      mapTypeControl: true,\n      scaleControl: true,\n      streetViewControl: true,\n      rotateControl: true,\n      fullscreenControl: true\n    }\n  }, {\n    default: _withCtx(() => [$setup.center.lat !== 0 && $setup.center.lng !== 0 ? (_openBlock(), _createBlock(_component_GMapMarker, {\n      key: 0,\n      position: $setup.center,\n      draggable: true,\n      clickable: true,\n      onDragend: $setup.onMarkerDragEnd\n    }, null, 8 /* PROPS */, [\"position\", \"onDragend\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $setup.returnToExactLocation && $setup.returnToExactLocation(...args)),\n      class: \"btn btn-primary\"\n    }, \" Return to Exact Location \"), _createCommentVNode(\" Desired Location Input \"), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      id: \"desiredLocationInput\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.desiredLocation = $event),\n      onInput: _cache[2] || (_cache[2] = (...args) => $setup.onDesiredLocationChange && $setup.onDesiredLocationChange(...args)),\n      class: \"form-control\",\n      placeholder: \"Search for a location...\"\n    }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $setup.desiredLocation]])]), _createCommentVNode(\" Search Bar for Current Location \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_GmapPlaceInput, {\n      modelValue: $setup.currentLocation,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.currentLocation = $event),\n      placeholder: 'Search for your current location...',\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"placeholder\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"center\", \"zoom\"])]);\n}","map":{"version":3,"names":["_imports_0","_createElementVNode","alt","src","class","for","_createElementBlock","_hoisted_1","_createVNode","_component_HelloWorld","msg","_component_GMapMap","center","$setup","zoom","zoomLevel","style","options","lat","lng","_createBlock","_component_GMapMarker","position","draggable","clickable","onDragend","onMarkerDragEnd","onClick","_cache","args","returnToExactLocation","_createCommentVNode","_hoisted_2","_hoisted_3","type","id","desiredLocation","$event","onInput","onDesiredLocationChange","placeholder","_hoisted_4","_hoisted_5","_component_GmapPlaceInput","currentLocation"],"sources":["/Users/nonnos/Desktop/projFinal/delivery/src/App.vue"],"sourcesContent":["<template>\n  <div>\n  <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n  <HelloWorld msg=\"Welcome to Your Delivery App\"/>\n\n  <GMapMap\n      :center=\"center\"\n      :zoom=\"zoomLevel\"\n      map-type-id=\"terrain\"\n      style=\"width: 100vw; height: 20rem; margin-top: 10px; margin-bottom: 10px; margin-left: 10px; margin-right: 10px;\"\n      :options=\"{\n        zoomControl: true,\n        mapTypeControl: true,\n        scaleControl: true,\n        streetViewControl: true,\n        rotateControl: true,\n        fullscreenControl: true\n      }\"\n    >\n    <GMapMarker\n        v-if=\"center.lat !== 0 && center.lng !== 0\"\n        :position=\"center\"\n        :draggable=\"true\"\n        :clickable=\"true\"\n        @dragend=\"onMarkerDragEnd\"\n      />\n\n      <button @click=\"returnToExactLocation\" class=\"btn btn-primary\">\n                Return to Exact Location\n              </button>\n\n                <!-- Desired Location Input -->\n    <div class=\"form-group mt-3\">\n      <label for=\"desiredLocationInput\">Enter Desired Location:</label>\n      <input\n        type=\"text\"\n        id=\"desiredLocationInput\"\n        v-model=\"desiredLocation\"\n        @input=\"onDesiredLocationChange\"\n        class=\"form-control\"\n        placeholder=\"Search for a location...\"\n      />\n    </div>\n\n    <!-- Search Bar for Current Location -->\n    <div class=\"form-group\">\n      <label for=\"currentLocationInput\">Search Current Location:</label>\n      <GmapPlaceInput v-model=\"currentLocation\" :placeholder=\"'Search for your current location...'\" class=\"form-control\" />\n    </div>\n  </GMapMap>\n\n</div>\n\n</template>\n\n<script>\nimport HelloWorld from './components/HelloWorld.vue'\nimport { ref, onMounted } from 'vue';\n\nexport default {\n  name: 'App',\n  components: {\n    HelloWorld,\n  },\n\n\nsetup() {\n     // Initialize center using localStorage or default values\n     const center = ref({\n      lat: 0, // Default to 0 for latitude\n      lng: 0, // Default to 0 for longitude\n    });\n\n\n    const desiredLocation = ref('');\n    const currentLocation = ref('');\n\n    const zoomLevel = ref(10);\n    const fetchUserLocation = () => {\n      if ('geolocation' in navigator) {\n        return new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(\n            (position) => {\n              const lat = position.coords.latitude;\n              const lng = position.coords.longitude;\n              const newCenter = { lat, lng };\n              zoomLevel.value = 20;\n             \n              resolve(newCenter);\n            },\n            (error) => {\n              reject(error);\n            }\n          );\n        });\n      } else {\n        console.error(\"Geolocation is not supported in this browser.\");\n        return null;\n      }\n    };\n\n    const onMarkerDragEnd = (event) => {\n      const newLocation = event.latLng;\n      center.value = newLocation;\n\n      // Save the new location to Local Storage\n      saveLocationToLocalStorage(newLocation);\n    };\n\n    const saveLocationToLocalStorage = (location) => {\n\n      const locationJSON = JSON.stringify(location);\n\n      localStorage.setItem('pinLocation', locationJSON);\n      \n    };\n\n    const returnToExactLocation = () => {\n      fetchUserLocation()\n        .then((newCenter) => {\n          center.value = newCenter;\n         \n          // Save the updated location to Local Storage\n          saveLocationToLocalStorage(center.value);\n        })\n        .catch((error) => {\n          console.error(\"Error getting user location: \" + error.message);\n        });\n    };\n\n    onMounted(() => {\n      fetchUserLocation();\n      \n    });\n    const onDesiredLocationChange = (place) => {\n      if (place.geometry && place.geometry.location) {\n        center.value = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng(),\n        };\n      }\n    };\n\n    // Function to handle current location change\n    const onCurrentLocationChange = (place) => {\n      if (place.geometry && place.geometry.location) {\n        center.value = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng(),\n        };\n      }\n    };\n\n\n\n    return {\n      center,\n      zoomLevel,\n      returnToExactLocation,\n      onMarkerDragEnd,\n      onDesiredLocationChange,\n      desiredLocation,\n      currentLocation,\n      onCurrentLocationChange,\n    };\n\n\n  },\n\n  \n\n\n\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style> \n\n\n\n\n"],"mappings":";OAEsBA,UAAuB;gCAA3CC,mBAAA,CAA4C;EAAvCC,GAAG,EAAC,UAAU;EAACC,GAAuB,EAAvBH;;;EA8BbI,KAAK,EAAC;AAAiB;gCAC1BH,mBAAA,CAAiE;EAA1DI,GAAG,EAAC;AAAsB,GAAC,yBAAuB;;EAYtDD,KAAK,EAAC;AAAY;gCACrBH,mBAAA,CAAkE;EAA3DI,GAAG,EAAC;AAAsB,GAAC,0BAAwB;;;;;;;uBA7C9DC,mBAAA,CAkDI,cAjDJC,UAA4C,EAC5CC,YAAA,CAAgDC,qBAAA;IAApCC,GAAG,EAAC;EAA8B,IAE9CF,YAAA,CA4CUG,kBAAA;IA3CLC,MAAM,EAAEC,MAAA,CAAAD,MAAM;IACdE,IAAI,EAAED,MAAA,CAAAE,SAAS;IAChB,aAAW,EAAC,SAAS;IACrBC,KAAkH,EAAlH;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA,CAAkH;IACjHC,OAAO,EAAE;;;;;;;;;sBASZ,MAMI,CALMJ,MAAA,CAAAD,MAAM,CAACM,GAAG,UAAUL,MAAA,CAAAD,MAAM,CAACO,GAAG,U,cADxCC,YAAA,CAMIC,qBAAA;;MAJCC,QAAQ,EAAET,MAAA,CAAAD,MAAM;MAChBW,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,IAAI;MACfC,SAAO,EAAEZ,MAAA,CAAAa;6FAGZzB,mBAAA,CAEiB;MAFR0B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEhB,MAAA,CAAAiB,qBAAA,IAAAjB,MAAA,CAAAiB,qBAAA,IAAAD,IAAA,CAAqB;MAAEzB,KAAK,EAAC;OAAkB,4BAEvD,GAEE2B,mBAAA,4BAA+B,EAC3C9B,mBAAA,CAUM,OAVN+B,UAUM,GATJC,UAAiE,E,gBACjEhC,mBAAA,CAOE;MANAiC,IAAI,EAAC,MAAM;MACXC,EAAE,EAAC,sBAAsB;iEAChBtB,MAAA,CAAAuB,eAAe,GAAAC,MAAA;MACvBC,OAAK,EAAAV,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEhB,MAAA,CAAA0B,uBAAA,IAAA1B,MAAA,CAAA0B,uBAAA,IAAAV,IAAA,CAAuB;MAC/BzB,KAAK,EAAC,cAAc;MACpBoC,WAAW,EAAC;mEAHH3B,MAAA,CAAAuB,eAAe,E,KAO5BL,mBAAA,qCAAwC,EACxC9B,mBAAA,CAGM,OAHNwC,UAGM,GAFJC,UAAkE,EAClElC,YAAA,CAAsHmC,yBAAA;kBAA7F9B,MAAA,CAAA+B,eAAe;iEAAf/B,MAAA,CAAA+B,eAAe,GAAAP,MAAA;MAAGG,WAAW,EAAE,qCAAqC;MAAEpC,KAAK,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}